(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/times-solid.042cb2ae.svg"},19:function(e,t,a){e.exports=a.p+"static/media/camera-solid.84c475e6.svg"},22:function(e,t,a){e.exports=a.p+"static/media/user.940c775d.svg"},25:function(e,t,a){e.exports=a(47)},31:function(e,t,a){},33:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(10),l=a.n(n),r=a(0),i=a.n(r),c=a(50),o=a(49),s=a(3),m=a(4),p=a(6),u=a(5),d=a(7),h=a(48),g=a(19),E=a.n(g),f=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).send=function(e){a.setState({loading:!0}),a.props.setImg([URL.createObjectURL(e.target.files[0]),e.target.files[0]]);var t=new FormData;t.append("image",e.target.files[0]),fetch(a.state.host+"/predict/",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.props.setPrediction(e.data)}).catch(function(e){console.error(e),a.setState({loading:!1,error:e})})};return a.state={loading:!1,host:"https://isthisapple.herokuapp.com",error:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{textAlign:"center"}},this.state.loading?i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{className:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)),i.a.createElement("div",null,"Loading...")):i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{id:"image",type:"file",accept:"image/*",capture:!0,onChange:this.send}),i.a.createElement("label",{htmlFor:"image"},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement("div",{className:"button"},i.a.createElement("img",{src:E.a,className:"camera-icon",alt:"Open camera"})))),null!==this.state.error?i.a.createElement("div",{style:{color:"red",marginTop:"10px",height:0}},String(this.state.error)):null,this.props.children))}}]),t}(r.Component),b=(a(31),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).report=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"report-question report-cell"},"What is this?"),i.a.createElement("div",{className:"apple report-cell clickable",onClick:function(){a.props.report(1),a.setState({report:!1,canBeReported:!1,userLabel:"apple"})}},"Apple"),i.a.createElement("div",{className:"not-apple report-cell clickable",onClick:function(){a.props.report(-1),a.setState({report:!1,canBeReported:!1,userLabel:"not-apple"})}},"Not apple"),i.a.createElement("div",{style:{margin:"auto",textAlign:"center"}},i.a.createElement("span",{role:"img","aria-label":"Warning!"},"\ud83d\udea8")," ","The image will be saved!",i.a.createElement("br",null)," Click 'X' to abort."))},a.state={userLabel:null,report:!1,canBeReported:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.state.report?this.report():i.a.createElement(i.a.Fragment,null,this.state.userLabel?i.a.createElement("div",{className:"prediction ".concat(this.state.userLabel)},"apple"===this.state.userLabel?"Apple":"Not apple"):i.a.createElement("div",{className:"prediction ".concat(this.props.prediction)},"apple"===this.props.prediction?"Apple":"Not apple"),this.state.canBeReported?i.a.createElement("div",{className:"circle-margin circle-margin-report"},i.a.createElement("div",{className:"report",onClick:function(){return e.setState({report:!0})}},i.a.createElement("p",{style:{margin:"auto",fontSize:"5vmin"}},"!"))):i.a.createElement("div",{style:{margin:"10px",textAlign:"center"}},"Thanks!"," ",i.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")))}}]),t}(r.Component)),v=(a(33),a(11)),y=a.n(v),k=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"result"},i.a.createElement("div",{className:"circle-margin circle-margin-close"},i.a.createElement("div",{className:"close",onClick:this.props.clear},i.a.createElement("img",{src:y.a,alt:"Close"}))),i.a.createElement("div",{className:"image-holder"},i.a.createElement("img",{src:this.props.img,className:"input-image",alt:"Your input"})),i.a.createElement("div",null,i.a.createElement(b,{prediction:0===this.props.prediction[0][0]?"apple":"not-apple",report:this.props.report})))}}]),t}(r.Component),O=a(14),j=a.n(O),N=a(22),x=a.n(N),C=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).setPrediction=function(e){a.setState({prediction:e})},a.setImg=function(e){a.setState({img:e})},a.sendReport=function(e){var t=new FormData;t.append("label",e),t.append("image",a.state.img[1]),fetch(a.state.host+"/report/",{mode:"no-cors",method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.props.setPrediction(e.data)}).catch(function(e){a.setImg(a.state.img)})},a.clearInput=function(){a.setState({prediction:null})};return a.state={img:null,host:"https://isthisapple.herokuapp.com",prediction:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,null===this.state.prediction?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{to:"/login/"},i.a.createElement("img",{alt:"account",src:x.a,style:{position:"absolute",right:0,margin:"30px",display:"none"}})),i.a.createElement("div",{style:{flex:1}},i.a.createElement("div",null,i.a.createElement("h1",{className:"title"},"Is this",i.a.createElement("br",null),"apple?")),i.a.createElement(f,{setPrediction:this.setPrediction,setImg:this.setImg},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"35px",marginBottom:0}},i.a.createElement(h.a,{to:"/apple-or-not/",style:{textDecoration:"none",color:"inherit"}},i.a.createElement("div",{className:"button-apple-or-not"},i.a.createElement("span",{role:"img","aria-label":"apple"},"\ud83c\udf4e")," ","or not"))))),i.a.createElement("footer",{className:"footer"},i.a.createElement("div",{className:"source"},i.a.createElement(j.a,{href:"https://github.com/pniedzwiedzinski/isthis/",color:"#31616e",bgColor:"#ecebec"},"Check out source code </>")),i.a.createElement("p",null,"Made by\xa0",i.a.createElement(j.a,{href:"https://github.com/pniedzwiedzinski",color:"#31616e",bgColor:"#ecebec"},"Patryk Nied\u017awiedzi\u0144ski")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{prediction:this.state.prediction,img:this.state.img[0],clear:this.clearInput,report:this.sendReport})))}}]),t}(r.Component),S=(a(42),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).getPhoto=function(){fetch("".concat(a.state.host,"/report/").concat(a.state.key?"?key=".concat(a.state.key):"")).then(function(e){return e.json()}).then(function(e){a.setState({img:e.data,loading:!1,key:e.key})}).catch(function(e){return console.log(e)})},a.label=function(e){fetch("".concat(a.state.host,"/label/?key=").concat(a.state.key,"&label=").concat(e),{method:"POST"}).then(function(){a.setState({img:null,loading:!0}),a.getPhoto()})};return a.state={img:null,host:"https://isthisapple.herokuapp.com",key:null,loading:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getPhoto()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement(h.a,{to:"/"},i.a.createElement("img",{src:y.a,alt:"Close",style:{position:"absolute",left:"5vmin",height:"34px",cursor:"pointer"}})),i.a.createElement("h1",{style:{fontSize:"inherit",padding:0,margin:0}},i.a.createElement("span",{role:"img","aria-label":"apple"},"\ud83c\udf4e")," ","or not?")),i.a.createElement("div",{className:"label-area"},this.state.loading?i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{className:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)),i.a.createElement("div",null,"Loading...")):i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{alt:"Check internet connection!",src:this.state.img,className:"label-image"}),i.a.createElement("div",{className:"choose"},i.a.createElement("div",{className:"apple choice",onClick:function(t){return e.label("apple")}},"Apple"),i.a.createElement("div",{className:"not-apple choice",onClick:function(t){return e.label("not-apple")}},"Not apple")))))}}]),t}(r.Component)),w=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,"Login to continue:",i.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(e){console.log("www"),e.preventDefault()},method:"POST"},i.a.createElement("input",{name:"login",type:"text"}),i.a.createElement("input",{name:"password",type:"password"}),i.a.createElement("input",{type:"submit"}))))}}]),t}(r.Component);a(44);l.a.render(i.a.createElement(c.a,{basename:"/isthis"},i.a.createElement("div",{className:"container"},i.a.createElement(o.a,{exact:!0,path:"/",component:C}),i.a.createElement(o.a,{path:"/apple-or-not",component:S}),i.a.createElement(o.a,{path:"/login",component:w}))),document.getElementById("root"))}},[[25,2,1]]]);
//# sourceMappingURL=main.79a64422.chunk.js.map