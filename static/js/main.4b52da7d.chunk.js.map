{"version":3,"sources":["images/times-solid.svg","images/camera-solid.svg","images/user.svg","components/SendImage.jsx","components/Report.jsx","components/Prediction.jsx","components/Index.jsx","components/AppleOrNot.jsx","components/Login.jsx","index.js"],"names":["module","exports","__webpack_require__","p","SendImage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","send","event","setState","loading","setImg","URL","createObjectURL","target","files","formData","FormData","append","fetch","state","host","method","body","then","res","json","setPrediction","data","catch","error","console","react_default","a","createElement","style","textAlign","display","flexDirection","className","Fragment","id","type","accept","capture","onChange","htmlFor","alignItems","src","camera","alt","color","marginTop","height","String","children","Component","Report","report","onClick","canBeReported","userLabel","_this2","concat","prediction","margin","fontSize","Prediction","clear","icon","img","Report_Report","Index","pred","sendReport","label","mode","clearInput","Link","to","position","right","flex","SendImage_SendImage","marginBottom","textDecoration","role","aria-label","dist_default","href","bgColor","Prediction_Prediction","AppleOrNot","getPhoto","key","image","log","l","setTimeout","left","cursor","padding","slice","e","Login","onSubmit","preventDefault","name","ReactDOM","render","BrowserRouter","basename","process","Route","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.4b52da7d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/times-solid.042cb2ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera-solid.84c475e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.940c775d.svg\";","import React, { Component } from \"react\";\n\nimport camera from \"../images/camera-solid.svg\";\n\nexport default class SendImage extends Component {\n  constructor(props) {\n    super(props);\n    let host = \"https://isthisapple.herokuapp.com\";\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\n      host = \"http://127.0.0.1:5000\";\n    }\n    this.state = {\n      loading: false,\n      host: host,\n      error: null\n    };\n  }\n\n  send = event => {\n    this.setState({ loading: true });\n    this.props.setImg([\n      URL.createObjectURL(event.target.files[0]),\n      event.target.files[0]\n    ]);\n    var formData = new FormData();\n    formData.append(\"image\", event.target.files[0]);\n    fetch(this.state.host + \"/predict/\", {\n      method: \"POST\",\n      body: formData\n    })\n      .then(res => res.json())\n      .then(body => {\n        this.props.setPrediction(body.data);\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({ loading: false, error: error });\n      });\n  };\n\n  render() {\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        {this.state.loading ? (\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div className=\"lds-ellipsis\">\n              <div />\n              <div />\n              <div />\n              <div />\n            </div>\n            <div>Loading...</div>\n          </div>\n        ) : (\n          <>\n            <input\n              id=\"image\"\n              type=\"file\"\n              accept=\"image/*\"\n              capture\n              onChange={this.send}\n            />\n            <label htmlFor=\"image\">\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\"\n                }}\n              >\n                <div className=\"button\">\n                  <img\n                    src={camera}\n                    className=\"camera-icon\"\n                    alt=\"Take a photo\"\n                  />\n                </div>\n              </div>\n            </label>\n            {this.state.error !== null ? (\n              <div style={{ color: \"red\", marginTop: \"10px\", height: 0 }}>\n                {String(this.state.error)}\n              </div>\n            ) : null}\n            {this.props.children}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport \"./report.css\";\n\nexport default class Report extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userLabel: null,\n      report: false,\n      canBeReported: true\n    };\n  }\n\n  report = () => {\n    return (\n      <>\n        <div className=\"report-question report-cell\">What is this?</div>\n        <div\n          className=\"apple report-cell clickable\"\n          onClick={() => {\n            this.props.report(1);\n            this.setState({\n              report: false,\n              canBeReported: false,\n              userLabel: \"apple\"\n            });\n          }}\n        >\n          Apple\n        </div>\n        <div\n          className=\"not-apple report-cell clickable\"\n          onClick={() => {\n            this.props.report(-1);\n            this.setState({\n              report: false,\n              canBeReported: false,\n              userLabel: \"not-apple\"\n            });\n          }}\n        >\n          Not apple\n        </div>\n      </>\n    );\n  };\n\n  render() {\n    if (this.state.report) {\n      return this.report();\n    } else {\n      return (\n        <>\n          {this.state.userLabel ? (\n            <div className={`prediction ${this.state.userLabel}`}>\n              {this.state.userLabel === \"apple\" ? \"Apple\" : \"Not apple\"}\n            </div>\n          ) : (\n            <div className={`prediction ${this.props.prediction}`}>\n              {this.props.prediction === \"apple\" ? \"Apple\" : \"Not apple\"}\n            </div>\n          )}\n          {this.state.canBeReported ? (\n            <div className=\"circle-margin circle-margin-report\">\n              <div\n                className=\"report\"\n                onClick={() => this.setState({ report: true })}\n              >\n                <p style={{ margin: \"auto\", fontSize: \"5vmin\" }}>!</p>\n              </div>\n            </div>\n          ) : (\n            <div style={{ margin: \"10px\", textAlign: \"center\" }}>\n              Thanks! <span>❤️</span>\n            </div>\n          )}\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\n\nimport Report from \"./Report.jsx\";\nimport \"./prediction.css\";\nimport icon from \"../images/times-solid.svg\";\n\nexport default class Prediction extends Component {\n  render() {\n    return (\n      <div className=\"result\">\n        <div className=\"circle-margin circle-margin-close\">\n          <div className=\"close\" onClick={this.props.clear}>\n            <img src={icon} alt=\"Close\" />\n          </div>\n        </div>\n        <div className=\"image-holder\">\n          <img src={this.props.img} className=\"input-image\" alt=\"Your input\" />\n        </div>\n        <div>\n          <Report\n            prediction={\n              this.props.prediction[0][0] === 0 ? \"apple\" : \"not-apple\"\n            }\n            report={this.props.report}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport SendImage from \"./SendImage.jsx\";\nimport Prediction from \"./Prediction.jsx\";\nimport TextLink from \"@bit/prdev.prdev.components.text-link\";\n\nimport icon from \"../images/user.svg\";\n\nexport default class Index extends Component {\n  constructor(props) {\n    super(props);\n    let host = \"https://isthisapple.pytatki-beta.pl\";\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\n      host = \"http://127.0.0.1:5001\";\n    }\n    this.state = {\n      img: null,\n      host: host,\n      prediction: null\n    };\n  }\n\n  setPrediction = pred => {\n    this.setState({\n      prediction: pred\n    });\n  };\n\n  setImg = img => {\n    this.setState({\n      img: img\n    });\n  };\n\n  sendReport = label => {\n    var formData = new FormData();\n    formData.append(\"label\", label);\n    formData.append(\"image\", this.state.img[1]);\n    fetch(this.state.host + \"/report/\", {\n      mode: \"no-cors\",\n      method: \"POST\",\n      body: formData\n    })\n      .then(res => res.json())\n      .then(body => {\n        this.props.setPrediction(body.data);\n      })\n      .catch(error => {\n        this.setImg(this.state.img);\n      });\n  };\n\n  clearInput = () => {\n    this.setState({\n      prediction: null\n    });\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.prediction === null ? (\n          <>\n            <Link to={\"/login/\"}>\n              <img\n                src={icon}\n                style={{\n                  position: \"absolute\",\n                  right: 0,\n                  margin: \"30px\",\n                  display: \"none\"\n                }}\n              />\n            </Link>\n            <div style={{ flex: 1 }}>\n              <div>\n                <h1 className=\"title\">\n                  Is this\n                  <br />\n                  apple?\n                </h1>\n              </div>\n              <SendImage\n                setPrediction={this.setPrediction}\n                setImg={this.setImg}\n              >\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    margin: \"35px\",\n                    marginBottom: 0\n                  }}\n                >\n                  <Link\n                    to=\"/apple-or-not/\"\n                    style={{ textDecoration: \"none\", color: \"inherit\" }}\n                  >\n                    <div className=\"button-apple-or-not\">\n                      <span role=\"img\" aria-label=\"apple\">\n                        🍎\n                      </span>{\" \"}\n                      or not\n                    </div>\n                  </Link>\n                </div>\n              </SendImage>\n            </div>\n            <footer className=\"footer\">\n              <div className=\"source\">\n                <TextLink\n                  href=\"https://github.com/prd-ev/isthis/\"\n                  color=\"#31616e\"\n                  bgColor=\"#ecebec\"\n                >\n                  Check out source code &lt;/&gt;\n                </TextLink>\n              </div>\n              <p>\n                Made by&nbsp;\n                <TextLink\n                  href=\"https://prd-ev.github.io\"\n                  color=\"#31616e\"\n                  bgColor=\"#ecebec\"\n                >\n                  PRDev\n                </TextLink>\n              </p>\n            </footer>\n          </>\n        ) : (\n          <>\n            <Prediction\n              prediction={this.state.prediction}\n              img={this.state.img[0]}\n              clear={this.clearInput}\n              report={this.sendReport}\n            />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./apple-or-not.css\";\nimport icon from \"../images/times-solid.svg\";\n\nexport default class AppleOrNot extends Component {\n  constructor(props) {\n    super(props);\n    let host = \"https://isthisapple.pytatki-beta.pl\";\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === \"development\") {\n      host = \"http://127.0.0.1:5001\";\n    }\n    this.state = {\n      img: null,\n      host: host,\n      key: null,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.getPhoto();\n  }\n\n  getPhoto = () => {\n    fetch(\n      `${this.state.host}/report/${\n        this.state.key ? `?key=${this.state.key}` : \"\"\n      }`\n    )\n      .then(res => res.json())\n      .then(image => {\n        this.setState({ img: image.data, loading: false, key: image.key });\n      })\n      .catch(error => console.log(error));\n  };\n\n  label = l => {\n    fetch(`${this.state.host}/label/?key=${this.state.key}&label=${l}`, {\n      method: \"POST\"\n    }).then(this.setState({ img: null, loading: true }));\n  };\n\n  componentDidUpdate() {\n    if (this.state.loading) {\n      setTimeout(this.getPhoto(), 750);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <Link to=\"/\">\n            <img\n              src={icon}\n              alt=\"Close\"\n              style={{\n                position: \"absolute\",\n                left: \"5vmin\",\n                height: \"34px\",\n                cursor: \"pointer\"\n              }}\n            />\n          </Link>\n          <h1 style={{ fontSize: \"inherit\", padding: 0, margin: 0 }}>\n            <span role=\"img\" aria-label=\"apple\">\n              🍎\n            </span>{\" \"}\n            or not?\n          </h1>\n        </div>\n        <div className=\"label-area\">\n          {!this.state.loading ? (\n            <>\n              <img\n                src={\"data:image/png;base64, \" + this.state.img.slice(2, -1)}\n                className=\"label-image\"\n              />\n              <div className=\"choose\">\n                <div\n                  className=\"apple choice\"\n                  onClick={e => this.label(\"apple\")}\n                >\n                  Apple\n                </div>\n                <div\n                  className=\"not-apple choice\"\n                  onClick={e => this.label(\"not-apple\")}\n                >\n                  Not apple\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n              <div className=\"lds-ellipsis\">\n                <div />\n                <div />\n                <div />\n                <div />\n              </div>\n              <div>Loading...</div>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Login extends Component {\n  render() {\n    return (\n      <>\n        <div>\n          Login to continue:\n          <form\n            style={{ display: \"flex\", flexDirection: \"column\" }}\n            onSubmit={event => {\n              console.log(\"www\");\n              event.preventDefault();\n            }}\n            method=\"POST\"\n          >\n            <input name=\"login\" type=\"text\" />\n            <input name=\"password\" type=\"password\" />\n            <input type=\"submit\" />\n          </form>\n        </div>\n      </>\n    );\n  }\n}\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport Index from \"./components/Index.jsx\";\nimport AppleOrNot from \"./components/AppleOrNot.jsx\";\nimport Login from \"./components/Login.jsx\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <Router basename={process.env.PUBLIC_URL}>\n    <div className=\"container\">\n      <Route exact path=\"/\" component={Index} />\n      <Route path=\"/apple-or-not\" component={AppleOrNot} />\n      <Route path=\"/login\" component={Login} />\n    </div>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}